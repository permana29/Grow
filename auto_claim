--== Auto Claim GUI ==--

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TopBar = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local MinimizeBtn = Instance.new("TextButton")
local CloseBtn = Instance.new("TextButton")
local Content = Instance.new("Frame")
local UIListLayout = Instance.new("UIListLayout")

-- Floating Auto button
local AutoBtn = Instance.new("TextButton")

-- Parent
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

--== Main Frame ==--
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Position = UDim2.new(0.4, 0, 0.35, 0)
MainFrame.Size = UDim2.new(0, 250, 0, 180)
MainFrame.Active = true
MainFrame.Draggable = true

Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 12)
local frameStroke = Instance.new("UIStroke", MainFrame)
frameStroke.Thickness = 2
frameStroke.Color = Color3.fromRGB(0, 200, 255)

--== Top Bar ==--
TopBar.Parent = MainFrame
TopBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
TopBar.Size = UDim2.new(1, 0, 0, 32)
Instance.new("UICorner", TopBar).CornerRadius = UDim.new(0, 12)

Title.Parent = TopBar
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1, -65, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.Font = Enum.Font.GothamBold
Title.Text = "üçé Auto Claim"
Title.TextColor3 = Color3.fromRGB(0, 200, 255)
Title.TextSize = 15
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Minimize
MinimizeBtn.Parent = TopBar
MinimizeBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
MinimizeBtn.Size = UDim2.new(0, 28, 0, 20)
MinimizeBtn.Position = UDim2.new(1, -60, 0.2, 0)
MinimizeBtn.Text = "-"
MinimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeBtn.Font = Enum.Font.GothamBold
MinimizeBtn.TextSize = 18
Instance.new("UICorner", MinimizeBtn).CornerRadius = UDim.new(0, 6)

-- Close
CloseBtn.Parent = TopBar
CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseBtn.Size = UDim2.new(0, 28, 0, 20)
CloseBtn.Position = UDim2.new(1, -30, 0.2, 0)
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 16
Instance.new("UICorner", CloseBtn).CornerRadius = UDim.new(0, 6)

--== Content ==--
Content.Parent = MainFrame
Content.BackgroundTransparency = 1
Content.Position = UDim2.new(0, 0, 0, 36)
Content.Size = UDim2.new(1, 0, 1, -36)

UIListLayout.Parent = Content
UIListLayout.Padding = UDim.new(0, 8)
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

--== Floating Auto Button ==--
AutoBtn.Parent = ScreenGui
AutoBtn.Size = UDim2.new(0, 45, 0, 45)
AutoBtn.Position = UDim2.new(0.45, 0, 0.5, 0)
AutoBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
AutoBtn.Text = "Auto"
AutoBtn.TextColor3 = Color3.fromRGB(0, 200, 255)
AutoBtn.Font = Enum.Font.GothamBold
AutoBtn.TextSize = 14
AutoBtn.Visible = false
AutoBtn.Active = true
AutoBtn.Draggable = true
Instance.new("UICorner", AutoBtn).CornerRadius = UDim.new(1, 0)
local plStroke = Instance.new("UIStroke", AutoBtn)
plStroke.Color = Color3.fromRGB(0, 200, 255)
plStroke.Thickness = 2

--== Minimize Logic ==--
MinimizeBtn.MouseButton1Click:Connect(function()
	MainFrame.Visible = false
	AutoBtn.Visible = true
end)

--== Restore Logic ==--
AutoBtn.MouseButton1Click:Connect(function()
	MainFrame.Visible = true
	AutoBtn.Visible = false
end)

--== Close Logic ==--
CloseBtn.MouseButton1Click:Connect(function()
	ScreenGui:Destroy()
end)

--== Functional Buttons ==--
local function createButton(txt)
	local btn = Instance.new("TextButton")
	btn.Parent = Content
	btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
	btn.Size = UDim2.new(0.85, 0, 0, 32)
	btn.Text = txt
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 14
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)
	local stroke = Instance.new("UIStroke", btn)
	stroke.Color = Color3.fromRGB(0, 200, 255)
	stroke.Thickness = 1.2
	btn.MouseEnter:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(55,55,55) end)
	btn.MouseLeave:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(35,35,35) end)
	return btn
end

-- Button Auto Claim All
local autoAll = createButton("üå± Auto Claim Semua: OFF")
local autoAllEnabled = false
autoAll.MouseButton1Click:Connect(function()
	autoAllEnabled = not autoAllEnabled
	autoAll.Text = autoAllEnabled and "üå± Auto Claim Semua: ON" or "üå± Auto Claim Semua: OFF"
	-- TODO: logika auto claim semua buah
end)

-- Button Auto Claim Selected
local autoSelected = createButton("üçì Auto Claim Buah Terpilih: OFF")
local autoSelEnabled = false
autoSelected.MouseButton1Click:Connect(function()
	autoSelEnabled = not autoSelEnabled
	autoSelected.Text = autoSelEnabled and "üçì Auto Claim Buah Terpilih: ON" or "üçì Auto Claim Buah Terpilih: OFF"
	-- TODO: logika auto claim buah tertentu
end)

-- TODO: Dropdown pilih buah bisa ditambah di sini (masih placeholder)
