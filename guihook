--// Roblox Script Hub - Executor + Remote List + Sniff Logger
--// Full Version (Final)

-- UI Library sederhana
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")

-- Buat ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ScriptHubUI"
screenGui.Parent = CoreGui

-- Frame utama (Menu)
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 250)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -125)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- Judul
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
title.TextColor3 = Color3.new(1,1,1)
title.Text = "Script Hub"
title.Font = Enum.Font.SourceSansBold
title.TextSize = 20
title.Parent = mainFrame

-- Container tombol
local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(1, 0, 1, -40)
buttonContainer.Position = UDim2.new(0, 0, 0, 40)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = mainFrame

-- Fungsi buat tombol
local function createButton(name, text, yPos, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -20, 0, 40)
    btn.Position = UDim2.new(0, 10, 0, yPos)
    btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Font = Enum.Font.SourceSansBold
    btn.TextSize = 18
    btn.Text = text
    btn.Parent = buttonContainer
    btn.MouseButton1Click:Connect(callback)
    return btn
end

-- =========================
-- Executor Frame
-- =========================
local execFrame = Instance.new("Frame")
execFrame.Size = mainFrame.Size
execFrame.Position = mainFrame.Position
execFrame.Visible = false
execFrame.BackgroundColor3 = mainFrame.BackgroundColor3
execFrame.Parent = screenGui

local execTitle = title:Clone()
execTitle.Text = "Executor"
execTitle.Parent = execFrame

local execBox = Instance.new("TextBox")
execBox.Size = UDim2.new(1, -20, 1, -100)
execBox.Position = UDim2.new(0, 10, 0, 50)
execBox.Text = "-- Ketik script di sini"
execBox.MultiLine = true
execBox.ClearTextOnFocus = false
execBox.TextColor3 = Color3.new(1,1,1)
execBox.BackgroundColor3 = Color3.fromRGB(30,30,30)
execBox.Font = Enum.Font.Code
execBox.TextSize = 16
execBox.Parent = execFrame

local runBtn = createButton("Run", "‚ñ∂ Run Script", 200, function()
    local code = execBox.Text
    local func, err = loadstring(code)
    if func then
        func()
    else
        warn("Error: "..err)
    end
end)
runBtn.Parent = execFrame

local backExec = createButton("BackExec", "‚Üê Back", 160, function()
    execFrame.Visible = false
    mainFrame.Visible = true
end)
backExec.Parent = execFrame

-- =========================
-- Remote List Frame
-- =========================
local remoteFrame = Instance.new("Frame")
remoteFrame.Size = mainFrame.Size
remoteFrame.Position = mainFrame.Position
remoteFrame.Visible = false
remoteFrame.BackgroundColor3 = mainFrame.BackgroundColor3
remoteFrame.Parent = screenGui

local remoteTitle = title:Clone()
remoteTitle.Text = "Remote List"
remoteTitle.Parent = remoteFrame

local remoteBox = Instance.new("ScrollingFrame")
remoteBox.Size = UDim2.new(1, -20, 1, -60)
remoteBox.Position = UDim2.new(0, 10, 0, 50)
remoteBox.CanvasSize = UDim2.new(0,0,0,0)
remoteBox.ScrollBarThickness = 6
remoteBox.BackgroundColor3 = Color3.fromRGB(30,30,30)
remoteBox.Parent = remoteFrame

local function scanRemotes()
    remoteBox:ClearAllChildren()
    local y = 0
    for _, obj in pairs(game:GetDescendants()) do
        if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1, -10, 0, 30)
            btn.Position = UDim2.new(0, 5, 0, y)
            btn.Text = obj:GetFullName()
            btn.TextColor3 = Color3.new(1,1,1)
            btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
            btn.Parent = remoteBox
            y = y + 35
        end
    end
    remoteBox.CanvasSize = UDim2.new(0,0,0,y)
end

local refreshBtn = createButton("Refresh", "üîÑ Refresh", 160, scanRemotes)
refreshBtn.Parent = remoteFrame

local backRemote = createButton("BackRemote", "‚Üê Back", 200, function()
    remoteFrame.Visible = false
    mainFrame.Visible = true
end)
backRemote.Parent = remoteFrame

-- =========================
-- Sniff Logger Frame
-- =========================
local sniffFrame = Instance.new("Frame")
sniffFrame.Size = mainFrame.Size
sniffFrame.Position = mainFrame.Position
sniffFrame.Visible = false
sniffFrame.BackgroundColor3 = mainFrame.BackgroundColor3
sniffFrame.Parent = screenGui

local sniffTitle = title:Clone()
sniffTitle.Text = "Sniff Logger"
sniffTitle.Parent = sniffFrame

local logBox = Instance.new("ScrollingFrame")
logBox.Size = UDim2.new(1, -20, 1, -60)
logBox.Position = UDim2.new(0, 10, 0, 50)
logBox.CanvasSize = UDim2.new(0,0,0,0)
logBox.ScrollBarThickness = 6
logBox.BackgroundColor3 = Color3.fromRGB(30,30,30)
logBox.Parent = sniffFrame

local function addLog(text)
    local count = #logBox:GetChildren()
    local lbl = Instance.new("TextLabel")
    lbl.Size = UDim2.new(1, -10, 0, 20)
    lbl.Position = UDim2.new(0, 5, 0, count * 22)
    lbl.BackgroundTransparency = 1
    lbl.TextColor3 = Color3.new(1,1,1)
    lbl.Font = Enum.Font.Code
    lbl.TextSize = 14
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    lbl.Text = text
    lbl.Parent = logBox
    logBox.CanvasSize = UDim2.new(0,0,0,(count+1)*22)
end

-- Hook RemoteEvent & RemoteFunction
for _, obj in pairs(game:GetDescendants()) do
    if obj:IsA("RemoteEvent") then
        obj.OnServerEvent:Connect(function(player, ...)
            local args = {...}
            local str = "RemoteEvent Fired: "..obj.Name.." | Args: "..table.concat(args,", ")
            print(str)
            addLog(str)
        end)
    elseif obj:IsA("RemoteFunction") then
        obj.OnServerInvoke = function(player, ...)
            local args = {...}
            local str = "RemoteFunction Invoked: "..obj.Name.." | Args: "..table.concat(args,", ")
            print(str)
            addLog(str)
        end
    end
end

local backSniff = createButton("BackSniff", "‚Üê Back", 200, function()
    sniffFrame.Visible = false
    mainFrame.Visible = true
end)
backSniff.Parent = sniffFrame

-- =========================
-- Main Menu Buttons
-- =========================
createButton("ExecBtn", "üìú Executor", 10, function()
    mainFrame.Visible = false
    execFrame.Visible = true
end)

createButton("RemoteBtn", "üì° Remote List", 60, function()
    mainFrame.Visible = false
    remoteFrame.Visible = true
    scanRemotes()
end)

createButton("SniffBtn", "üîç Sniff Logger", 110, function()
    mainFrame.Visible = false
    sniffFrame.Visible = true
end)

print("[ScriptHub] Loaded successfully!")
