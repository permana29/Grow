-- Remote Explorer Final + Realtime Log
-- by ChatGPT

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- UI Setup
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 500, 0, 350)
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -175)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Active = true
MainFrame.Draggable = true

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Title.Text = "Remote Explorer"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18

-- Container
local ContentFrame = Instance.new("Frame", MainFrame)
ContentFrame.Size = UDim2.new(1, -10, 1, -40)
ContentFrame.Position = UDim2.new(0, 5, 0, 35)
ContentFrame.BackgroundTransparency = 1

-- List of Remotes
local RemoteList = Instance.new("ScrollingFrame", ContentFrame)
RemoteList.Size = UDim2.new(1, 0, 1, 0)
RemoteList.CanvasSize = UDim2.new(0, 0, 0, 0)
RemoteList.ScrollBarThickness = 6
RemoteList.Visible = true

-- Detail frame
local DetailFrame = Instance.new("Frame", ContentFrame)
DetailFrame.Size = UDim2.new(1, 0, 1, 0)
DetailFrame.BackgroundTransparency = 1
DetailFrame.Visible = false

local BackBtn = Instance.new("TextButton", DetailFrame)
BackBtn.Size = UDim2.new(0, 60, 0, 25)
BackBtn.Position = UDim2.new(0, 0, 0, 0)
BackBtn.Text = "< Back"
BackBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
BackBtn.TextColor3 = Color3.fromRGB(255, 255, 255)

local CopyBtn = Instance.new("TextButton", DetailFrame)
CopyBtn.Size = UDim2.new(0, 60, 0, 25)
CopyBtn.Position = UDim2.new(0, 70, 0, 0)
CopyBtn.Text = "Copy"
CopyBtn.BackgroundColor3 = Color3.fromRGB(40, 100, 40)
CopyBtn.TextColor3 = Color3.fromRGB(255, 255, 255)

local ClearBtn = Instance.new("TextButton", DetailFrame)
ClearBtn.Size = UDim2.new(0, 60, 0, 25)
ClearBtn.Position = UDim2.new(0, 140, 0, 0)
ClearBtn.Text = "Clear"
ClearBtn.BackgroundColor3 = Color3.fromRGB(120, 40, 40)
ClearBtn.TextColor3 = Color3.fromRGB(255, 255, 255)

-- Info Text
local InfoLabel = Instance.new("TextLabel", DetailFrame)
InfoLabel.Size = UDim2.new(1, -10, 0, 100)
InfoLabel.Position = UDim2.new(0, 5, 0, 40)
InfoLabel.BackgroundTransparency = 1
InfoLabel.TextXAlignment = Enum.TextXAlignment.Left
InfoLabel.TextYAlignment = Enum.TextYAlignment.Top
InfoLabel.Font = Enum.Font.Code
InfoLabel.TextSize = 14
InfoLabel.TextColor3 = Color3.fromRGB(255,255,255)
InfoLabel.Text = ""

-- Log
local LogFrame = Instance.new("ScrollingFrame", DetailFrame)
LogFrame.Size = UDim2.new(1, -10, 0, 150)
LogFrame.Position = UDim2.new(0, 5, 0, 150)
LogFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
LogFrame.ScrollBarThickness = 6

local LogLayout = Instance.new("UIListLayout", LogFrame)
LogLayout.SortOrder = Enum.SortOrder.LayoutOrder

local CurrentRemote = nil
local RemoteConnections = {}

-- Function AddLog
local function AddLog(text)
    local LogLabel = Instance.new("TextLabel", LogFrame)
    LogLabel.Size = UDim2.new(1, -5, 0, 20)
    LogLabel.BackgroundTransparency = 1
    LogLabel.TextXAlignment = Enum.TextXAlignment.Left
    LogLabel.Font = Enum.Font.Code
    LogLabel.TextSize = 14
    LogLabel.TextColor3 = Color3.fromRGB(200,200,200)
    LogLabel.Text = text

    LogFrame.CanvasSize = UDim2.new(0, 0, 0, LogLayout.AbsoluteContentSize.Y + 10)
end

-- Copy to clipboard
local function CopyAll()
    local text = "Remote Info:\n" .. InfoLabel.Text .. "\n\nLogs:\n"
    for _, child in ipairs(LogFrame:GetChildren()) do
        if child:IsA("TextLabel") then
            text = text .. child.Text .. "\n"
        end
    end
    setclipboard(text)
end

-- Clear logs
local function ClearAll()
    for _, child in ipairs(LogFrame:GetChildren()) do
        if child:IsA("TextLabel") then
            child:Destroy()
        end
    end
    LogFrame.CanvasSize = UDim2.new(0,0,0,0)
end

CopyBtn.MouseButton1Click:Connect(CopyAll)
ClearBtn.MouseButton1Click:Connect(ClearAll)

BackBtn.MouseButton1Click:Connect(function()
    DetailFrame.Visible = false
    RemoteList.Visible = true
    if CurrentRemote and RemoteConnections[CurrentRemote] then
        RemoteConnections[CurrentRemote]:Disconnect()
        RemoteConnections[CurrentRemote] = nil
    end
    CurrentRemote = nil
end)

-- Populate list
local function AddRemote(remote)
    local Btn = Instance.new("TextButton", RemoteList)
    Btn.Size = UDim2.new(1, -10, 0, 25)
    Btn.Text = remote.Name
    Btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    Btn.TextColor3 = Color3.fromRGB(255,255,255)

    Btn.MouseButton1Click:Connect(function()
        RemoteList.Visible = false
        DetailFrame.Visible = true
        CurrentRemote = remote

        -- Show info
        InfoLabel.Text =
            "Name: " .. remote.Name ..
            "\nClass: " .. remote.ClassName ..
            "\nPath: " .. remote:GetFullName() ..
            "\n\nProperties:" ..
            "\n  Archivable: " .. tostring(remote.Archivable) ..
            "\n  Name: " .. remote.Name ..
            "\n  ClassName: " .. remote.ClassName ..
            "\n  Parent: " .. (remote.Parent and remote.Parent.Name or "nil")

        -- Clear old logs
        ClearAll()

        -- Hook for log
        if remote:IsA("RemoteEvent") then
            RemoteConnections[remote] = remote.OnClientEvent:Connect(function(...)
                AddLog("OnClientEvent: " .. table.concat({...}, ", "))
            end)
        elseif remote:IsA("RemoteFunction") then
            RemoteConnections[remote] = remote.OnClientInvoke:Connect(function(...)
                AddLog("OnClientInvoke: " .. table.concat({...}, ", "))
            end)
        end
    end)
end

-- Scan Remotes
for _, obj in ipairs(ReplicatedStorage:GetDescendants()) do
    if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
        AddRemote(obj)
    end
end
