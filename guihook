--// Grow a Garden Module Scanner
-- GUI
local gui = Instance.new("ScreenGui", game:GetService("CoreGui"))
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 420, 0, 260)
frame.Position = UDim2.new(0.2,0,0.2,0)
frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
frame.Active = true
frame.Draggable = true

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1,0,0,25)
title.BackgroundColor3 = Color3.fromRGB(50,50,50)
title.Text = "🔍 Grow a Garden Module Scanner"
title.TextColor3 = Color3.fromRGB(0,255,0)
title.TextSize = 14

local scroll = Instance.new("ScrollingFrame", frame)
scroll.Size = UDim2.new(1,0,1,-50)
scroll.Position = UDim2.new(0,0,0,25)
scroll.CanvasSize = UDim2.new(0,0,0,0)
scroll.ScrollBarThickness = 6

local layout = Instance.new("UIListLayout", scroll)

local clearBtn = Instance.new("TextButton", frame)
clearBtn.Size = UDim2.new(1,0,0,25)
clearBtn.Position = UDim2.new(0,0,1,-25)
clearBtn.Text = "🗑️ Clear Logs"
clearBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
clearBtn.TextColor3 = Color3.fromRGB(255,255,255)

local function AddLog(msg)
    local log = Instance.new("TextLabel")
    log.Size = UDim2.new(1,-4,0,18)
    log.TextXAlignment = Enum.TextXAlignment.Left
    log.BackgroundTransparency = 1
    log.Text = msg
    log.TextColor3 = Color3.fromRGB(220,220,220)
    log.TextSize = 13
    log.Parent = scroll
    scroll.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y)
end

clearBtn.MouseButton1Click:Connect(function()
    for _,v in pairs(scroll:GetChildren()) do
        if v:IsA("TextLabel") then v:Destroy() end
    end
end)

--// Keywords untuk filter
local keywords = {"fruit","claim","buy","sell","harvest","item","shop"}

--// Scanner
spawn(function()
    AddLog("🔎 Scanning modules... Tunggu sebentar.")
    for _,mod in ipairs(game:GetDescendants()) do
        if mod:IsA("ModuleScript") then
            local ok, ret = pcall(require, mod)
            if ok then
                if type(ret) == "table" then
                    for k,v in pairs(ret) do
                        if type(k) == "string" then
                            for _,kw in ipairs(keywords) do
                                if string.find(k:lower(), kw) then
                                    AddLog("[Module] "..mod:GetFullName().." -> "..k)
                                end
                            end
                        end
                    end
                elseif type(ret) == "function" then
                    -- fungsi langsung tanpa table
                    for _,kw in ipairs(keywords) do
                        if string.find(mod.Name:lower(), kw) then
                            AddLog("[FuncMod] "..mod:GetFullName())
                        end
                    end
                end
            end
        end
    end
    AddLog("✅ Scan selesai!")
end)
