-- Remote Explorer Final Clean Version
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- GUI Utama
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "RemoteExplorer"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 500, 0, 350)
Frame.Position = UDim2.new(0.5, -250, 0.5, -175)
Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Frame.Active = true
Frame.Draggable = true

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Title.Text = "Remote Explorer"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 16

local Close = Instance.new("TextButton", Frame)
Close.Size = UDim2.new(0, 30, 0, 30)
Close.Position = UDim2.new(1, -30, 0, 0)
Close.Text = "X"
Close.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
Close.TextColor3 = Color3.fromRGB(255,255,255)
Close.MouseButton1Click:Connect(function() ScreenGui:Destroy() end)

local Minimize = Instance.new("TextButton", Frame)
Minimize.Size = UDim2.new(0, 30, 0, 30)
Minimize.Position = UDim2.new(1, -60, 0, 0)
Minimize.Text = "-"
Minimize.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
Minimize.TextColor3 = Color3.fromRGB(255,255,255)

local Content = Instance.new("Frame", Frame)
Content.Size = UDim2.new(1, -10, 1, -50)
Content.Position = UDim2.new(0, 5, 0, 40)
Content.BackgroundTransparency = 1

-- Search Bar
local SearchBar = Instance.new("TextBox", Content)
SearchBar.Size = UDim2.new(1, 0, 0, 25)
SearchBar.PlaceholderText = "Search remote..."
SearchBar.Text = ""
SearchBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
SearchBar.TextColor3 = Color3.fromRGB(255,255,255)

-- List
local ScrollingFrame = Instance.new("ScrollingFrame", Content)
ScrollingFrame.Size = UDim2.new(1, 0, 1, -65)
ScrollingFrame.Position = UDim2.new(0, 0, 0, 30)
ScrollingFrame.CanvasSize = UDim2.new(0,0,0,0)
ScrollingFrame.ScrollBarThickness = 6
ScrollingFrame.BackgroundColor3 = Color3.fromRGB(40,40,40)

local UIListLayout = Instance.new("UIListLayout", ScrollingFrame)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

-- Tombol bawah
local ButtonFrame = Instance.new("Frame", Frame)
ButtonFrame.Size = UDim2.new(1, -10, 0, 30)
ButtonFrame.Position = UDim2.new(0, 5, 1, -35)
ButtonFrame.BackgroundTransparency = 1

local function MakeButton(name, pos, func)
	local btn = Instance.new("TextButton", ButtonFrame)
	btn.Size = UDim2.new(0.25, -5, 1, 0)
	btn.Position = UDim2.new(pos, 5*pos, 0, 0)
	btn.Text = name
	btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	btn.MouseButton1Click:Connect(func)
	return btn
end

-- Data display
local DataBox = Instance.new("TextBox", Content)
DataBox.Size = UDim2.new(1, 0, 1, -65)
DataBox.Position = UDim2.new(0,0,0,30)
DataBox.BackgroundColor3 = Color3.fromRGB(20,20,20)
DataBox.TextColor3 = Color3.fromRGB(0,255,0)
DataBox.TextXAlignment = Enum.TextXAlignment.Left
DataBox.TextYAlignment = Enum.TextYAlignment.Top
DataBox.MultiLine = true
DataBox.TextWrapped = true
DataBox.ClearTextOnFocus = false
DataBox.Visible = false

-- Remote Scanner
local Remotes = {}

local function ScanRemotes()
	Remotes = {}
	ScrollingFrame:ClearAllChildren()
	UIListLayout.Parent = ScrollingFrame
	for _, obj in ipairs(game:GetDescendants()) do
		if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
			table.insert(Remotes, obj)
			local btn = Instance.new("TextButton", ScrollingFrame)
			btn.Size = UDim2.new(1, -5, 0, 25)
			btn.Text = obj:GetFullName()
			btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
			btn.TextColor3 = Color3.fromRGB(255,255,255)
			btn.MouseButton1Click:Connect(function()
				ScrollingFrame.Visible = false
				DataBox.Visible = true
				local success, props = pcall(function()
					return {
						"Name: " .. obj.Name,
						"Class: " .. obj.ClassName,
						"Path: " .. obj:GetFullName(),
						"",
						"Properties:",
						"  Archivable: " .. tostring(obj.Archivable),
						"  Name: " .. obj.Name,
						"  ClassName: " .. obj.ClassName,
						"  Parent: " .. (obj.Parent and obj.Parent.Name or "nil")
					}
				end)
				if success then
					DataBox.Text = table.concat(props, "\n")
				else
					DataBox.Text = "Data tidak terbaca"
				end
			end)
		end
	end
	ScrollingFrame.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y)
end

-- Buttons
MakeButton("Rescan", 0, ScanRemotes)
MakeButton("< Back", 1, function()
	ScrollingFrame.Visible = true
	DataBox.Visible = false
end)
MakeButton("Copy", 2, function()
	if DataBox.Visible then
		setclipboard(DataBox.Text)
	end
end)
MakeButton("Clear", 3, function()
	SearchBar.Text = ""
	ScanRemotes()
end)

-- Search
SearchBar:GetPropertyChangedSignal("Text"):Connect(function()
	local txt = SearchBar.Text:lower()
	for _,btn in ipairs(ScrollingFrame:GetChildren()) do
		if btn:IsA("TextButton") then
			btn.Visible = txt == "" or btn.Text:lower():find(txt,1,true)
		end
	end
	UIListLayout.Parent = nil
	UIListLayout.Parent = ScrollingFrame
	ScrollingFrame.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y)
end)

-- Minimize
local minimized = false
Minimize.MouseButton1Click:Connect(function()
	minimized = not minimized
	Content.Visible = not minimized
	ButtonFrame.Visible = not minimized
	Frame.Size = minimized and UDim2.new(0,500,0,30) or UDim2.new(0,500,0,350)
end)

-- Initial scan
ScanRemotes()
