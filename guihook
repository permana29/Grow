--// Hook Explorer Final (Remote + Data, aman + full fitur)

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "HookExplorer"
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 450, 0, 300)
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.BackgroundColor3 = Color3.fromRGB(25,25,25)
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -60, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(45,45,45)
Title.Text = "Hook Explorer"
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Frame

-- Minimize button
local MinBtn = Instance.new("TextButton")
MinBtn.Size = UDim2.new(0, 30, 0, 30)
MinBtn.Position = UDim2.new(1, -60, 0, 0)
MinBtn.Text = "-"
MinBtn.BackgroundColor3 = Color3.fromRGB(80,80,80)
MinBtn.TextColor3 = Color3.new(1,1,1)
MinBtn.Parent = Frame

-- Close button
local CloseBtn = Instance.new("TextButton")
CloseBtn.Size = UDim2.new(0, 30, 0, 30)
CloseBtn.Position = UDim2.new(1, -30, 0, 0)
CloseBtn.Text = "X"
CloseBtn.BackgroundColor3 = Color3.fromRGB(120,40,40)
CloseBtn.TextColor3 = Color3.new(1,1,1)
CloseBtn.Parent = Frame

-- Tabs
local RemoteBtn = Instance.new("TextButton")
RemoteBtn.Size = UDim2.new(0.5, 0, 0, 25)
RemoteBtn.Position = UDim2.new(0,0,0,30)
RemoteBtn.Text = "Remote"
RemoteBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
RemoteBtn.TextColor3 = Color3.new(1,1,1)
RemoteBtn.Parent = Frame

local DataBtn = Instance.new("TextButton")
DataBtn.Size = UDim2.new(0.5, 0, 0, 25)
DataBtn.Position = UDim2.new(0.5,0,0,30)
DataBtn.Text = "Data"
DataBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
DataBtn.TextColor3 = Color3.new(1,1,1)
DataBtn.Parent = Frame

-- Search bar
local SearchBox = Instance.new("TextBox")
SearchBox.Size = UDim2.new(1, -10, 0, 25)
SearchBox.Position = UDim2.new(0, 5, 0, 60)
SearchBox.PlaceholderText = "Search..."
SearchBox.BackgroundColor3 = Color3.fromRGB(35,35,35)
SearchBox.TextColor3 = Color3.new(1,1,1)
SearchBox.ClearTextOnFocus = false
SearchBox.Parent = Frame

-- Scroll area
local Scroll = Instance.new("ScrollingFrame")
Scroll.Size = UDim2.new(1, -10, 1, -120)
Scroll.Position = UDim2.new(0, 5, 0, 90)
Scroll.CanvasSize = UDim2.new(0,0,0,0)
Scroll.ScrollBarThickness = 6
Scroll.BackgroundColor3 = Color3.fromRGB(30,30,30)
Scroll.Parent = Frame

local UIList = Instance.new("UIListLayout")
UIList.Parent = Scroll
UIList.SortOrder = Enum.SortOrder.LayoutOrder

-- Footer buttons
local ClearBtn = Instance.new("TextButton")
ClearBtn.Size = UDim2.new(0.33, -4, 0, 25)
ClearBtn.Position = UDim2.new(0, 2, 1, -28)
ClearBtn.Text = "Clear"
ClearBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
ClearBtn.TextColor3 = Color3.new(1,1,1)
ClearBtn.Parent = Frame

local CopyAllBtn = Instance.new("TextButton")
CopyAllBtn.Size = UDim2.new(0.33, -4, 0, 25)
CopyAllBtn.Position = UDim2.new(0.33, 2, 1, -28)
CopyAllBtn.Text = "Copy All"
CopyAllBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
CopyAllBtn.TextColor3 = Color3.new(1,1,1)
CopyAllBtn.Parent = Frame

local RescanBtn = Instance.new("TextButton")
RescanBtn.Size = UDim2.new(0.33, -4, 0, 25)
RescanBtn.Position = UDim2.new(0.66, 2, 1, -28)
RescanBtn.Text = "Rescan"
RescanBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
RescanBtn.TextColor3 = Color3.new(1,1,1)
RescanBtn.Parent = Frame

-- Vars
local currentMode = "Remote"
local logs = {}
local minimized = false

-- Helpers
local function clearLogs()
    for _,v in ipairs(Scroll:GetChildren()) do
        if v:IsA("TextButton") then v:Destroy() end
    end
    logs = {}
    Scroll.CanvasSize = UDim2.new(0,0,0,0)
end

local function addLog(text, copy)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -4, 0, 20)
    btn.Text = text
    btn.TextXAlignment = Enum.TextXAlignment.Left
    btn.BackgroundColor3 = Color3.fromRGB(70,70,70)
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Parent = Scroll
    table.insert(logs, {text = text, copy = copy, button = btn})
    btn.MouseButton1Click:Connect(function()
        setclipboard(copy)
    end)
    Scroll.CanvasSize = UDim2.new(0,0,0,UIList.AbsoluteContentSize.Y+10)
end

-- Filters
local function filterLogs(query)
    for _,log in ipairs(logs) do
        if string.find(string.lower(log.text), string.lower(query)) then
            log.button.Visible = true
        else
            log.button.Visible = false
        end
    end
end
SearchBox:GetPropertyChangedSignal("Text"):Connect(function()
    filterLogs(SearchBox.Text)
end)

-- Remote Scanner
local function scanRemotes()
    clearLogs()
    for _,desc in ipairs(game:GetDescendants()) do
        if desc:IsA("RemoteEvent") or desc:IsA("RemoteFunction") then
            addLog(desc:GetFullName() .. " ["..desc.ClassName.."]", desc:GetFullName())
        end
    end
end

-- Data Scanner (Safe)
local function scanData()
    clearLogs()
    local topFolders = {ReplicatedStorage, Workspace, Players}
    for _,folder in ipairs(topFolders) do
        for _,v in ipairs(folder:GetChildren()) do
            addLog(v:GetFullName() .. " ["..v.ClassName.."]", v:GetFullName())
        end
    end
end

-- Tab switching
RemoteBtn.MouseButton1Click:Connect(function()
    currentMode = "Remote"
    RemoteBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
    DataBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
    scanRemotes()
end)

DataBtn.MouseButton1Click:Connect(function()
    currentMode = "Data"
    DataBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
    RemoteBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
    scanData()
end)

-- Footer buttons events
ClearBtn.MouseButton1Click:Connect(clearLogs)
CopyAllBtn.MouseButton1Click:Connect(function()
    local str = {}
    for _,l in ipairs(logs) do
        table.insert(str, l.copy)
    end
    if #str > 0 then
        setclipboard(table.concat(str, "\n"))
    end
end)
RescanBtn.MouseButton1Click:Connect(function()
    if currentMode == "Remote" then
        scanRemotes()
    else
        scanData()
    end
end)

-- Minimize/Close
MinBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        Frame.Size = UDim2.new(0, 200, 0, 30)
        for _,v in ipairs(Frame:GetChildren()) do
            if v ~= Title and v ~= MinBtn and v ~= CloseBtn then
                v.Visible = false
            end
        end
    else
        Frame.Size = UDim2.new(0, 450, 0, 300)
        for _,v in ipairs(Frame:GetChildren()) do
            v.Visible = true
        end
        Title.Visible = true
        MinBtn.Visible = true
        CloseBtn.Visible = true
    end
end)

CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Init
scanRemotes()
