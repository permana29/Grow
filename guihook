-- Remote Explorer + Auto Sniffer + Log Realtime
-- Final Version

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- UI Library sederhana
local ScreenGui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
ScreenGui.Name = "RemoteExplorer"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 400, 0, 250)
Frame.Position = UDim2.new(0.5, -200, 0.5, -125)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.Active = true
Frame.Draggable = true

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Title.Text = "Remote Explorer"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18

local ScrollingFrame = Instance.new("ScrollingFrame", Frame)
ScrollingFrame.Size = UDim2.new(1, 0, 1, -30)
ScrollingFrame.Position = UDim2.new(0, 0, 0, 30)
ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
ScrollingFrame.ScrollBarThickness = 6
ScrollingFrame.BackgroundTransparency = 1

-- Sniffer storage
local sniffedRemotes = {}

-- fungsi log argumen
local function logArgs(remote, ...)
    local args = {...}
    print("ðŸ”¥ Sniffed from:", remote:GetFullName())
    for i,v in ipairs(args) do
        print("   Arg["..i.."]: ", v)
    end
end

-- attach sniffer
local function attachSniffer(remote)
    if sniffedRemotes[remote] then return end -- biar ga double attach

    if remote:IsA("RemoteEvent") then
        remote.OnClientEvent:Connect(function(...)
            logArgs(remote, ...)
        end)
    elseif remote:IsA("RemoteFunction") then
        remote.OnClientInvoke = function(...)
            logArgs(remote, ...)
        end
    end

    sniffedRemotes[remote] = true
    print("-- Sniffer Attached to", remote:GetFullName())
end

-- buat tombol list remote
local function addButton(remote)
    local btn = Instance.new("TextButton", ScrollingFrame)
    btn.Size = UDim2.new(1, -10, 0, 25)
    btn.Position = UDim2.new(0, 5, 0, (#ScrollingFrame:GetChildren()-1)*30)
    btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.TextSize = 14
    btn.Font = Enum.Font.SourceSans
    btn.Text = remote.Name .. "  ["..remote.ClassName.."]"
    
    btn.MouseButton1Click:Connect(function()
        attachSniffer(remote)
    end)

    ScrollingFrame.CanvasSize = UDim2.new(0,0,0,(#ScrollingFrame:GetChildren()-1)*30)
end

-- scan semua remote di ReplicatedStorage.GameEvents
local folder = ReplicatedStorage:FindFirstChild("GameEvents")
if folder then
    for _, obj in ipairs(folder:GetChildren()) do
        if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
            addButton(obj)
        end
    end
end

print("âœ… Remote Explorer Loaded. Klik tombol untuk attach sniffer.")
